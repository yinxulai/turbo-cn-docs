import Callout from "../../../../components/Callout";
import HeartIcon from "@heroicons/react/solid/HeartIcon";
import { Tabs, Tab } from "../../../../components/Tabs";

# 包安装

包管理器（如 `npm`）为您处理两件事：[管理工作区](/repo/docs/handbook/workspaces) 和安装包。

Turborepo 与四个包管理器兼容：

- [npm](https://docs.npmjs.com/cli/v8/using-npm/workspaces#description)
- [pnpm](https://pnpm.io/workspaces)
- [Yarn 1](https://classic.yarnpkg.com/lang/en/docs/workspaces/)
- Yarn >=2 (文档即将推出)

你应该使用你觉得最舒服的那个——但是 **如果你是一个 monorepo 初学者，我们推荐 npm**。

如果您**对 monorepos 感到满意，我们推荐 pnpm**。 它速度更快，并提供了一些有用的 CLI 选项，例如 `--filter`。

## 安装包

当你第一次克隆或创建你的 monorepo 时，你需要：

1.确保你在你的monorepo的根目录中
2. 运行安装命令：

<Tabs items={["npm", "yarn", "pnpm"]} storageKey="selected-pkg-manager">
  <Tab>```bash npm install ```</Tab>
  <Tab>```bash yarn install ```</Tab>
  <Tab>```bash pnpm install ```</Tab>
</Tabs>

您现在将看到 `node_modules` 文件夹出现在存储库的根目录和每个工作区中。

## 添加/删除/升级包

您可以使用包管理器的内置命令从 monorepo 中添加、删除和升级包：

<Tabs items={['npm', 'yarn', 'pnpm']} storageKey="selected-pkg-manager">
  <Tab>

    **Install a package in a workspace**
    ```bash
    npm install <package> --workspace=<workspace>
    ```

    Example:
    ```bash
    npm install react --workspace=web
    ```

    **Remove a package from a workspace**
    ```bash
    npm uninstall <package> --workspace=<workspace>
    ```

    Example:
    ```bash
    npm uninstall react --workspace=web
    ```

    **Upgrade a package in a workspace**
    ```bash
    npm update <package> --workspace=<workspace>
    ```

    Example:
    ```bash
    npm update react --workspace=web
    ```

  </Tab>
  <Tab>

    **Install a package in a workspace**
    ```bash
    yarn workspace <workspace> add <package>
    ```

    Example:
    ```bash
    yarn workspace web add react
    ```

    **Remove a package from a workspace**
    ```bash
    yarn workspace <workspace> remove <package>
    ```

    Example:
    ```bash
    yarn workspace web remove react
    ```

    **Upgrade a package in a workspace**
    ```bash
    yarn workspace <workspace> upgrade <package>
    ```

    Example:
    ```bash
    yarn workspace web upgrade react
    ```

  </Tab>
  <Tab>

    **Install a package in a workspace**
    ```bash
    pnpm add <package> --filter <workspace>
    ```

    Example:
    ```bash
    pnpm add react --filter web
    ```

    **Remove a package from a workspace**
     ```bash
    pnpm uninstall <package> --filter <workspace>
    ```

    Example:
    ```bash
    pnpm uninstall react --filter web
    ```

    **Upgrade a package in a workspace**
     ```bash
    pnpm update <package> --filter <workspace>
    ```

    Example:
    ```bash
    pnpm update react --filter web
    ```

  </Tab>
</Tabs>
